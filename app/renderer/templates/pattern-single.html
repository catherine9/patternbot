<section class="pattern" id="{{name}}" {{#unless showSubHeadings}}style="{{#if patterns.[0].readme.backgroundColour}}background-color:{{patterns.[0].readme.backgroundColour}}; color:rgba({{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},.9);{{/if}}"{{/unless}}>
  <div class="pattern-toolbar gutter pad-t-1-4 pad-b-1-8 relative" {{#unless showSubHeadings}}style="{{#if patterns.[0].readme.backgroundColour}}background-color:rgba({{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},.1); border-color:rgba({{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},.1); color:rgba({{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},.9);{{/if}}"{{/unless}}>
    <h2 class="pattern-name peta push-1-4">{{namePretty}}</h2>
    {{#if showSubHeadings}}
      <nav class="pattern-nav">
        <ol class="list-group-inline push-1-4">
          {{#each patterns}}
            <li><a href="#{{../name}}-{{name}}">{{namePretty}}</a></li>
          {{/each}}
        </ol>
      </nav>
    {{/if}}
    {{#unless showSubHeadings}}
      {{#unless patterns.[0].readme.hidePopOutButton}}
        <div class="gutter absolute pin-cr">
          <a class="pattern-pop" href="{{patterns.[0].localPath}}" target="_blank" title="Open pattern in a new tab">
            <i class="icon i-18">
              <svg><use xlink:href="#pop-out" /></svg>
            </i>
          </a>
        </div>
      {{/unless}}
    {{/unless}}
  </div>

  {{#if readme.content.body}}
    <div class="pattern-desc milli island" {{#unless showSubHeadings}}style="{{#if patterns.[0].readme.backgroundColour}}background-color:rgba({{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},.05); border-color:rgba({{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},.05); color:rgba({{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},.9);{{/if}}"{{/unless}}>
      <div class="max-length">{{{readme.content.body}}}</div>
    </div>
  {{else}}
    {{#if patterns.[0].readme.desc}}
      <div class="pattern-desc milli island" {{#unless showSubHeadings}}style="{{#if patterns.[0].readme.backgroundColour}}background-color:rgba({{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},.05); border-color:rgba({{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},.05); color:rgba({{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},{{patterns.[0].readme.interfaceColours.primary}},.9);{{/if}}"{{/unless}}>
        <div class="max-length">{{{markdown patterns.[0].readme}}}</div>
      </div>
    {{/if}}
  {{/if}}

  {{desc}}

  {{#each patterns}}
    <div class="pattern-details" id="{{../name}}-{{name}}" style="{{#if readme.backgroundColour}}background-color:{{readme.backgroundColour}};{{/if}}">
      {{#if ../showSubHeadings}}
        <div class="pattern-toolbar pattern-toolbar-inner relative gutter pad-t-1-4 pad-b-1-4" style="{{#if readme.backgroundColour}}background-color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.1); border-color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.1); color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.9);{{/if}}">
          <h3 class="pattern-name tera push-1-8">{{namePretty}}</h3>
          {{#unless readme.hidePopOutButton}}
            <div class="gutter absolute pin-cr">
              <a class="pattern-pop" href="{{localPath}}" target="_blank" title="Open pattern in a new tab">
                <i class="icon i-18">
                  <svg><use xlink:href="#pop-out" /></svg>
                </i>
              </a>
            </div>
          {{/unless}}
        </div>
        {{#if readme.desc}}
          <div class="pattern-desc milli island" style="{{#if readme.backgroundColour}}background-color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.05); border-color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.05); color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.9);{{/if}}">
            <div class="max-length">{{{markdown readme}}}</div>
          </div>
        {{/if}}
      {{/if}}

      <div class="pattern-examples pad-t-1-2 pad-b{{#if ../hideCode}}-1-2{{/if}}">
        <div class="gutter{{#unless readme.notResizable}}-2{{/unless}} pad-t-1-2 pad-b-1-2 push-1-2">
          <div class="resizeable-pattern relative" style="{{#if readme.width}}width:{{readme.width}}px{{/if}}">
            <iframe src="{{localPath}}" scrolling="no" onload="resizeIframe(this)" {{#if readme.backgroundColour}}data-inject-css=":root { --color-patternbot-interface:{{readme.interfaceColours.primary}}; --color-patternbot-interface-opposite:{{readme.interfaceColours.opposite}}; --color-patternbot-background:{{readme.backgroundColour}}; }"{{/if}}></iframe>
            {{# unless readme.notResizable}}
              <div class="resizeable-pattern-length">
                <div class="resize-handle resize-handle-left" style="{{#if readme.backgroundColour}}border-color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.1); color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.3);{{/if}}">
                  <i class="icon i-18">
                    <svg><use xlink:href="#resize-handle" /></svg>
                  </i>
                </div>
                <div class="resize-handle resize-handle-right" style="{{#if readme.backgroundColour}}border-color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.1); color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.3);{{/if}}">
                  <i class="icon i-18">
                    <svg><use xlink:href="#resize-handle" /></svg>
                  </i>
                </div>
              </div>
            {{/unless}}
          </div>
        </div>

        {{#unless ../hideCode}}
          <div class="gutter">
            <div class="pattern-code milli island-1-2" style="{{#if readme.backgroundColour}}background-color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.05); border-color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.05); color:rgba({{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},{{readme.interfaceColours.primary}},.9);{{/if}}">
              <code><pre>{{{content}}}</pre></code>
            </div>
          </div>
        {{/unless}}
      </div>
    </div>
  {{/each}}

</section>
